# SAP_LLM Environment Variables
# Copy this file to .env and fill in your values

# Environment
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Azure Cosmos DB (PMG)
COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/
COSMOS_KEY=your-cosmos-key-here

# Neo4j (alternative to Cosmos)
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-neo4j-password

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# MongoDB
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=sap_llm

# Azure Service Bus
SERVICE_BUS_CONNECTION_STRING=Endpoint=sb://your-namespace.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=your-key

# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net

# Model paths (local or Azure Blob)
VISION_ENCODER_PATH=/models/vision_encoder
LANGUAGE_DECODER_PATH=/models/language_decoder
REASONING_ENGINE_PATH=/models/reasoning_engine
UNIFIED_MODEL_PATH=/models/sap_llm_unified

# Data paths
DATA_DIR=/data
TRAINING_DATA_PATH=/data/training
TEST_DATA_PATH=/data/test_set
SCHEMA_PATH=/data/schemas

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_SECRET_KEY=change-this-to-a-secure-random-key-in-production

# ============================================================================
# CORS (Cross-Origin Resource Sharing) Security Configuration
# ============================================================================
# SECURITY CRITICAL: Configure allowed origins carefully to prevent unauthorized access
#
# CORS_ALLOWED_ORIGINS: Comma-separated list of allowed origins
# - Must be complete URLs with protocol (e.g., https://app.example.com)
# - Use HTTPS in production (HTTP is insecure and will be rejected)
# - Wildcards (*) are FORBIDDEN in production for security reasons
# - Empty value = deny all cross-origin requests (most secure default)
#
# Examples:
# Development (local testing):
#   CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000
#
# Staging (test environment):
#   CORS_ALLOWED_ORIGINS=https://staging-app.example.com,https://staging-api.example.com
#
# Production (live environment - HTTPS REQUIRED):
#   CORS_ALLOWED_ORIGINS=https://app.qorsync.com,https://api.qorsync.com
#
# ⚠️  SECURITY WARNINGS:
# - NEVER use wildcard (*) in production - it allows ANY domain to access your API
# - NEVER use HTTP in production - it exposes data to man-in-the-middle attacks
# - Keep the list minimal - only add domains you own and trust
# - Too many origins (>5) may indicate misconfiguration
#
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# APOP Keys
APOP_PRIVATE_KEY_PATH=/keys/apop_private_key.pem
APOP_PUBLIC_KEY_PATH=/keys/apop_public_key.pem

# HuggingFace
HF_TOKEN=your-huggingface-token
HF_CACHE_DIR=/models/huggingface_cache

# Monitoring
PROMETHEUS_PORT=9090
OTEL_ENDPOINT=http://localhost:4318

# GPU Configuration
CUDA_VISIBLE_DEVICES=0
TORCH_CUDA_ARCH_LIST=8.0;8.6

# Performance
MAX_WORKERS=8
BATCH_SIZE=4
CACHE_ENABLED=true

# Feature flags
ENABLE_PMG=true
ENABLE_APOP=true
ENABLE_SHWL=true
ENABLE_CONTINUOUS_LEARNING=true

# Web Search API Configuration (TODO #9)
# Sign up links:
# - Tavily AI: https://tavily.com (Primary - $0.001/request, 1K free/month)
# - Google Custom Search: https://developers.google.com/custom-search (Secondary - 100 free/day)
# - Bing Search: https://www.microsoft.com/en-us/bing/apis/bing-web-search-api (Tertiary - 1K free/month)
# - DuckDuckGo: No API key needed (Fallback - Free, rate limited)
TAVILY_API_KEY=tvly-your-tavily-api-key-here
GOOGLE_SEARCH_API_KEY=AIzaSy-your-google-api-key-here
GOOGLE_SEARCH_CX=your-custom-search-engine-id-here
BING_SEARCH_API_KEY=your-bing-api-key-here

# Web Search Settings
WEB_SEARCH_ENABLED=true
WEB_SEARCH_OFFLINE_MODE=false
WEB_SEARCH_CACHE_TTL=86400  # 24 hours in seconds
WEB_SEARCH_MAX_RESULTS=5
WEB_SEARCH_TIMEOUT=10  # seconds
WEB_SEARCH_RETRY_ATTEMPTS=3

# Entity Enrichment
ENABLE_ENTITY_ENRICHMENT=true
ENTITY_ENRICHMENT_CONFIDENCE_THRESHOLD=0.7
